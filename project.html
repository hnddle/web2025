<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasty Map - ÎÇòÎßåÏùò ÎßõÏßë ÏßÄÎèÑ</title>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=66c3518cc69e4a01ae7b8184d547e54b&libraries=services,clusterer"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #fafafa;
            color: #333;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        header {
            background: #ff6b35;
            color: white;
            padding: 0.875rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-info {
            background: rgba(255,255,255,0.2);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }

        .main-content {
            margin-top: 56px;
            flex: 1;
            position: relative;
        }

        .floating-search {
            position: absolute;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            width: 90%;
            max-width: 500px;
        }

        .search-wrapper {
            background: white;
            border-radius: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
        }

        #searchInput {
            flex: 1;
            border: none;
            padding: 0.5rem;
            font-size: 1rem;
            outline: none;
        }

        .search-icon {
            color: #ff6b35;
            font-size: 1.2rem;
        }

        .filter-pills {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .filter-pill {
            background: white;
            border: 1px solid #e0e0e0;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-pill:hover {
            border-color: #ff6b35;
            color: #ff6b35;
        }

        .filter-pill.active {
            background: #ff6b35;
            color: white;
            border-color: #ff6b35;
        }

        .nav-tabs {
            background: white;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-around;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #999;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }

        .tab-btn:hover {
            color: #ff6b35;
        }

        .tab-btn.active {
            color: #ff6b35;
        }

        .tab-icon {
            font-size: 1.25rem;
        }

        #searchBtn {
            display: none;
        }

        .tab-content {
            display: none;
            height: calc(100vh - 112px);
        }

        .tab-content.active {
            display: block;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        .list-container {
            height: 100%;
            overflow-y: auto;
            background: #fafafa;
        }

        .restaurant-grid {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .restaurant-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            display: flex;
            height: 120px;
        }

        .restaurant-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .restaurant-image {
            width: 120px;
            height: 120px;
            object-fit: cover;
        }

        .restaurant-info {
            padding: 1rem;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .restaurant-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
        }

        .restaurant-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.25rem;
        }

        .restaurant-rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            color: #ff6b35;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .restaurant-meta {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.875rem;
        }

        .restaurant-category {
            color: #ff6b35;
            font-weight: 500;
        }

        .restaurant-address {
            color: #999;
            font-size: 0.8rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .restaurant-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .btn {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #ff6b35;
            color: white;
        }

        .btn-primary:hover {
            background: #e55a2b;
        }

        .btn-scrap {
            background: white;
            border: 1px solid #e0e0e0;
            color: #666;
            padding: 0.3rem 0.6rem;
        }

        .btn-scrap:hover {
            border-color: #ff6b35;
            color: #ff6b35;
        }

        .btn-scrap.active {
            background: #fff5f0;
            border-color: #ff6b35;
            color: #ff6b35;
        }

        .collection-header {
            padding: 1rem;
            background: white;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .collection-header h2 {
            font-size: 1.25rem;
            color: #333;
            font-weight: 600;
        }

        #collectionCount {
            background: #ff6b35;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            font-weight: 300;
            color: white;
            cursor: pointer;
            z-index: 10;
            background: rgba(0,0,0,0.5);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close:hover {
            background: rgba(0,0,0,0.7);
        }

        .modal-header {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .modal-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .modal-info {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.875rem;
        }

        .info-label {
            font-weight: 500;
            color: #333;
            min-width: 80px;
        }

        .map-popup {
            background: white;
            padding: 0.75rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            min-width: 200px;
        }

        .map-popup h3 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
            color: #333;
        }

        .map-popup p {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .map-popup button {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }

        .kakao-map-popup {
            z-index: 50 !important;
        }
            .filter-pills {
                padding: 0.5rem;
            }
            
            .restaurant-card {
                height: 100px;
            }
            
            .restaurant-image {
                width: 100px;
                height: 100px;
            }
            
            .restaurant-info {
                padding: 0.75rem;
            }
            
            .restaurant-name {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Tasty Map</h1>
                <div class="user-info">
                    <span>Ïù¥Ï†ïÎØº (20102246)</span>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div id="mapTab" class="tab-content active">
                <div class="floating-search">
                    <div class="search-wrapper">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="searchInput" placeholder="ÎßõÏßë, ÏßÄÏó≠, Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏÉâ">
                        <button id="searchBtn">Í≤ÄÏÉâ</button>
                    </div>
                    <div class="filter-pills">
                        <div class="filter-pill active" data-category="">Ï†ÑÏ≤¥</div>
                        <div class="filter-pill" data-category="korean">ÌïúÏãù</div>
                        <div class="filter-pill" data-category="chinese">Ï§ëÏãù</div>
                        <div class="filter-pill" data-category="japanese">ÏùºÏãù</div>
                        <div class="filter-pill" data-category="western">ÏñëÏãù</div>
                        <div class="filter-pill" data-category="cafe">Ïπ¥Ìéò</div>
                    </div>
                </div>
                <div id="map"></div>
            </div>

            <div id="listTab" class="tab-content">
                <div class="list-container">
                    <div class="restaurant-grid" id="restaurantGrid"></div>
                </div>
            </div>

            <div id="collectionTab" class="tab-content">
                <div class="list-container">
                    <div class="collection-header">
                        <h2>ÎÇ¥Í∞Ä Ïä§ÌÅ¨Îû©Ìïú ÎßõÏßë</h2>
                        <span id="collectionCount">0Í∞ú</span>
                    </div>
                    <div class="restaurant-grid" id="collectionGrid"></div>
                </div>
            </div>
        </main>

        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="map">
                <span class="tab-icon">üó∫Ô∏è</span>
                <span>ÏßÄÎèÑ</span>
            </button>
            <button class="tab-btn" data-tab="list">
                <span class="tab-icon">üìã</span>
                <span>Î™©Î°ù</span>
            </button>
            <button class="tab-btn" data-tab="collection">
                <span class="tab-icon">‚ù§Ô∏è</span>
                <span>Ïä§ÌÅ¨Îû©</span>
            </button>
        </nav>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">√ó</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        const restaurants = [
            {
                id: 1,
                name: "Í∞ïÎÇ® Í≥±Ï∞Ω",
                category: "korean",
                categoryName: "ÌïúÏãù",
                region: "gangnam",
                address: "ÏÑúÏö∏ Í∞ïÎÇ®Íµ¨ ÌÖåÌó§ÎûÄÎ°ú 123",
                lat: 37.5012,
                lng: 127.0396,
                rating: 4.5,
                image: "https://picsum.photos/400/300?random=1",
                description: "Ïã†ÏÑ†Ìïú Í≥±Ï∞ΩÍ≥º ÎåÄÏ∞ΩÏùÑ Ï¶êÍ∏∏ Ïàò ÏûàÎäî Í∞ïÎÇ®Ïùò Ïù∏Í∏∞ ÎßõÏßëÏûÖÎãàÎã§.",
                phone: "02-1234-5678",
                hours: "17:00 - 02:00",
                menu: ["Í≥±Ï∞Ω Íµ¨Ïù¥", "ÎåÄÏ∞Ω Íµ¨Ïù¥", "ÎßâÏ∞Ω Íµ¨Ïù¥"],
                price: "15,000Ïõê ~ 25,000Ïõê"
            },
            {
                id: 2,
                name: "ÌôçÎåÄ ÎùºÎ©òÏßë",
                category: "japanese",
                categoryName: "ÏùºÏãù",
                region: "hongdae",
                address: "ÏÑúÏö∏ ÎßàÌè¨Íµ¨ ÏôÄÏö∞ÏÇ∞Î°ú 456",
                lat: 37.5563,
                lng: 126.9235,
                rating: 4.8,
                image: "https://picsum.photos/400/300?random=2",
                description: "ÏßÑÌïú ÎèàÏΩîÏ∏† ÎùºÎ©òÏúºÎ°ú Ïú†Î™ÖÌïú ÌôçÎåÄÏùò ÎùºÎ©ò Ï†ÑÎ¨∏Ï†êÏûÖÎãàÎã§.",
                phone: "02-2345-6789",
                hours: "11:30 - 22:00",
                menu: ["ÎèàÏΩîÏ∏† ÎùºÎ©ò", "ÎØ∏ÏÜå ÎùºÎ©ò", "Ï∏†ÏºÄÎ©ò"],
                price: "10,000Ïõê ~ 15,000Ïõê"
            },
            {
                id: 3,
                name: "Î™ÖÎèô ÌååÏä§ÌÉÄ",
                category: "western",
                categoryName: "ÏñëÏãù",
                region: "myeongdong",
                address: "ÏÑúÏö∏ Ï§ëÍµ¨ Î™ÖÎèôÍ∏∏ 789",
                lat: 37.5636,
                lng: 126.9869,
                rating: 4.3,
                image: "https://picsum.photos/400/300?random=3",
                description: "ÏàòÏ†ú ÌååÏä§ÌÉÄÏôÄ ÌîºÏûêÎ•º Ï¶êÍ∏∏ Ïàò ÏûàÎäî Î™ÖÎèôÏùò Ïù¥ÌÉàÎ¶¨Ïïà Î†àÏä§ÌÜ†ÎûëÏûÖÎãàÎã§.",
                phone: "02-3456-7890",
                hours: "11:00 - 22:00",
                menu: ["ÍπåÎ•¥Î≥¥ÎÇòÎùº", "ÏïåÎ¶¨Ïò§ Ïò¨Î¶¨Ïò§", "ÎßàÎ•¥Í≤åÎ¶¨ÌÉÄ ÌîºÏûê"],
                price: "15,000Ïõê ~ 30,000Ïõê"
            },
            {
                id: 4,
                name: "Ïù¥ÌÉúÏõê Î≤ÑÍ±∞",
                category: "western",
                categoryName: "ÏñëÏãù",
                region: "itaewon",
                address: "ÏÑúÏö∏ Ïö©ÏÇ∞Íµ¨ Ïù¥ÌÉúÏõêÎ°ú 321",
                lat: 37.5347,
                lng: 126.9945,
                rating: 4.6,
                image: "https://picsum.photos/400/300?random=4",
                description: "ÏàòÏ†ú Ìå®Ìã∞ÏôÄ Ïã†ÏÑ†Ìïú Ïû¨Î£åÎ°ú ÎßåÎì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Î≤ÑÍ±∞ Ï†ÑÎ¨∏Ï†êÏûÖÎãàÎã§.",
                phone: "02-4567-8901",
                hours: "11:00 - 23:00",
                menu: ["ÌÅ¥ÎûòÏãù Î≤ÑÍ±∞", "Î≤†Ïù¥Ïª® ÏπòÏ¶àÎ≤ÑÍ±∞", "Î®∏Ïâ¨Î£∏ Î≤ÑÍ±∞"],
                price: "12,000Ïõê ~ 18,000Ïõê"
            },
            {
                id: 5,
                name: "Ïû†Ïã§ ÏßúÏû•Î©¥",
                category: "chinese",
                categoryName: "Ï§ëÏãù",
                region: "jamsil",
                address: "ÏÑúÏö∏ ÏÜ°ÌååÍµ¨ Ïò¨Î¶ºÌîΩÎ°ú 654",
                lat: 37.5133,
                lng: 127.1001,
                rating: 4.2,
                image: "https://picsum.photos/400/300?random=5",
                description: "Ï†ÑÌÜµ Î∞©ÏãùÏúºÎ°ú ÎßåÎì† ÏàòÌÉÄ ÏßúÏû•Î©¥Ïù¥ ÏùºÌíàÏù∏ Ï§ëÍµ≠ ÏöîÎ¶¨ Ï†ÑÎ¨∏Ï†êÏûÖÎãàÎã§.",
                phone: "02-5678-9012",
                hours: "10:30 - 21:30",
                menu: ["ÏßúÏû•Î©¥", "Ïß¨ÎΩï", "ÌÉïÏàòÏú°"],
                price: "8,000Ïõê ~ 25,000Ïõê"
            },
            {
                id: 6,
                name: "Í∞ïÎÇ® Ïä§Ïãú",
                category: "japanese",
                categoryName: "ÏùºÏãù",
                region: "gangnam",
                address: "ÏÑúÏö∏ Í∞ïÎÇ®Íµ¨ Î¥âÏùÄÏÇ¨Î°ú 987",
                lat: 37.5172,
                lng: 127.0473,
                rating: 4.9,
                image: "https://picsum.photos/400/300?random=6",
                description: "Ïã†ÏÑ†Ìïú ÌôúÏñ¥ÏôÄ ÏàôÏÑ± Ï∞∏ÏπòÎ•º ÏÇ¨Ïö©ÌïòÎäî Ïò§ÎßàÏπ¥ÏÑ∏ Ï†ÑÎ¨∏Ï†êÏûÖÎãàÎã§.",
                phone: "02-6789-0123",
                hours: "12:00 - 22:00",
                menu: ["Îü∞Ïπò Ïò§ÎßàÏπ¥ÏÑ∏", "ÎîîÎÑà Ïò§ÎßàÏπ¥ÏÑ∏", "ÏÇ¨ÏãúÎØ∏ Ï†ïÏãù"],
                price: "50,000Ïõê ~ 150,000Ïõê"
            },
            {
                id: 7,
                name: "ÌôçÎåÄ Îñ°Î≥∂Ïù¥",
                category: "korean",
                categoryName: "ÌïúÏãù",
                region: "hongdae",
                address: "ÏÑúÏö∏ ÎßàÌè¨Íµ¨ ÌôçÏùµÎ°ú 111",
                lat: 37.5547,
                lng: 126.9221,
                rating: 4.4,
                image: "https://picsum.photos/400/300?random=7",
                description: "Îß§ÏΩ§Îã¨ÏΩ§Ìïú Îñ°Î≥∂Ïù¥ÏôÄ Îã§ÏñëÌïú Î∂ÑÏãùÏùÑ Ï¶êÍ∏∏ Ïàò ÏûàÎäî ÌôçÎåÄ ÎßõÏßëÏûÖÎãàÎã§.",
                phone: "02-7890-1234",
                hours: "11:00 - 23:00",
                menu: ["Î°úÏ†ú Îñ°Î≥∂Ïù¥", "ÏßúÏû• Îñ°Î≥∂Ïù¥", "ÍπÄÎ∞•"],
                price: "5,000Ïõê ~ 15,000Ïõê"
            },
            {
                id: 8,
                name: "Î™ÖÎèô Ïπ¥Ìéò",
                category: "cafe",
                categoryName: "Ïπ¥Ìéò",
                region: "myeongdong",
                address: "ÏÑúÏö∏ Ï§ëÍµ¨ ÎÇ®ÎåÄÎ¨∏Î°ú 222",
                lat: 37.5607,
                lng: 126.9858,
                rating: 4.7,
                image: "https://picsum.photos/400/300?random=8",
                description: "ÏàòÏ†ú ÎîîÏ†ÄÌä∏ÏôÄ Ïä§ÌéòÏÖúÌã∞ Ïª§ÌîºÎ•º Ï¶êÍ∏∏ Ïàò ÏûàÎäî Î™ÖÎèôÏùò Ïπ¥ÌéòÏûÖÎãàÎã§.",
                phone: "02-8901-2345",
                hours: "08:00 - 22:00",
                menu: ["ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏", "Ïπ¥ÌéòÎùºÎñº", "Ìã∞ÎùºÎØ∏Ïàò"],
                price: "5,000Ïõê ~ 12,000Ïõê"
            },
            {
                id: 9,
                name: "Ïù¥ÌÉúÏõê ÌÉúÍµ≠ ÏöîÎ¶¨",
                category: "western",
                categoryName: "ÏñëÏãù",
                region: "itaewon",
                address: "ÏÑúÏö∏ Ïö©ÏÇ∞Íµ¨ ÎÖπÏÇ¨ÌèâÎåÄÎ°ú 333",
                lat: 37.5341,
                lng: 126.9900,
                rating: 4.5,
                image: "https://picsum.photos/400/300?random=9",
                description: "Ï†ïÌÜµ ÌÉúÍµ≠ ÏöîÎ¶¨Î•º ÎßõÎ≥º Ïàò ÏûàÎäî Ïù¥ÌÉúÏõêÏùò Ïù∏Í∏∞ Î†àÏä§ÌÜ†ÎûëÏûÖÎãàÎã§.",
                phone: "02-9012-3456",
                hours: "11:30 - 22:30",
                menu: ["ÌåüÌÉÄÏù¥", "Îò†ÏñåÍøç", "Í∑∏Î¶∞ Ïª§Î¶¨"],
                price: "12,000Ïõê ~ 20,000Ïõê"
            },
            {
                id: 10,
                name: "Ïû†Ïã§ Î∏åÎü∞Ïπò",
                category: "cafe",
                categoryName: "Ïπ¥Ìéò",
                region: "jamsil",
                address: "ÏÑúÏö∏ ÏÜ°ÌååÍµ¨ ÏÜ°ÌååÎåÄÎ°ú 444",
                lat: 37.5145,
                lng: 127.1050,
                rating: 4.6,
                image: "https://picsum.photos/400/300?random=10",
                description: "Í±¥Í∞ïÌïú Î∏åÎü∞ÏπòÏôÄ Ïã†ÏÑ†Ìïú ÏÉêÎü¨ÎìúÎ•º Ï†úÍ≥µÌïòÎäî Ïû†Ïã§Ïùò Î∏åÎü∞Ïπò Ïπ¥ÌéòÏûÖÎãàÎã§.",
                phone: "02-0123-4567",
                hours: "09:00 - 21:00",
                menu: ["ÏóêÍ∑∏ Î≤†ÎÑ§ÎîïÌä∏", "ÏïÑÎ≥¥Ïπ¥ÎèÑ ÌÜ†Ïä§Ìä∏", "Î¶¨ÏΩîÌÉÄ Ìå¨ÏºÄÏù¥ÌÅ¨"],
                price: "15,000Ïõê ~ 25,000Ïõê"
            },
            {
                id: 11,
                name: "Í∞ïÎÇ® ÏÇºÍ≤πÏÇ¥",
                category: "korean",
                categoryName: "ÌïúÏãù",
                region: "gangnam",
                address: "ÏÑúÏö∏ Í∞ïÎÇ®Íµ¨ Í∞ïÎÇ®ÎåÄÎ°ú 555",
                lat: 37.4979,
                lng: 127.0276,
                rating: 4.3,
                image: "https://picsum.photos/400/300?random=11",
                description: "Ï†úÏ£º ÌùëÎèºÏßÄÏôÄ ÌïúÏö∞Î•º Ï¶êÍ∏∏ Ïàò ÏûàÎäî Í∞ïÎÇ®Ïùò Í≥†Í∏∞ Ï†ÑÎ¨∏Ï†êÏûÖÎãàÎã§.",
                phone: "02-1357-2468",
                hours: "17:00 - 01:00",
                menu: ["Ï†úÏ£º ÌùëÎèºÏßÄ", "ÌïúÏö∞ Îì±Ïã¨", "ÎêúÏû•Ï∞åÍ∞ú"],
                price: "20,000Ïõê ~ 50,000Ïõê"
            },
            {
                id: 12,
                name: "ÌôçÎåÄ ÌîºÏûê",
                category: "western",
                categoryName: "ÏñëÏãù",
                region: "hongdae",
                address: "ÏÑúÏö∏ ÎßàÌè¨Íµ¨ Ïñ¥Ïö∏ÎßàÎãπÎ°ú 666",
                lat: 37.5579,
                lng: 126.9245,
                rating: 4.4,
                image: "https://picsum.photos/400/300?random=12",
                description: "ÌôîÎçïÏóêÏÑú Íµ¨Ïö¥ Ï†ïÌÜµ ÎÇòÌè¥Î¶¨ ÌîºÏûêÎ•º ÎßõÎ≥º Ïàò ÏûàÎäî ÌôçÎåÄ ÎßõÏßëÏûÖÎãàÎã§.",
                phone: "02-2468-1357",
                hours: "11:30 - 23:00",
                menu: ["ÎßàÎ•¥Í≤åÎ¶¨ÌÉÄ", "ÎîîÏïÑÎ≥ºÎùº", "ÏΩ∞Ìä∏Î°ú Ìè¨Î•¥ÎßàÏßÄ"],
                price: "18,000Ïõê ~ 30,000Ïõê"
            }
        ];

        let map;
        let markers = [];
        let currentRestaurants = [...restaurants];
        let scrapedRestaurants = JSON.parse(localStorage.getItem('scrapedRestaurants') || '[]');

        function initMap() {
            const mapContainer = document.getElementById('map');
            const mapOption = {
                center: new kakao.maps.LatLng(37.5400, 127.0100),
                level: 6
            };
            
            map = new kakao.maps.Map(mapContainer, mapOption);
            
            displayMarkers(currentRestaurants);
        }

        function displayMarkers(restaurantList) {
            clearMarkers();
            
            restaurantList.forEach(restaurant => {
                const markerPosition = new kakao.maps.LatLng(restaurant.lat, restaurant.lng);
                const marker = new kakao.maps.Marker({
                    position: markerPosition,
                    map: map
                });
                
                const content = `
                    <div class="map-popup">
                        <h3>${restaurant.name}</h3>
                        <p>${restaurant.categoryName} ‚Ä¢ ‚≠ê ${restaurant.rating}</p>
                        <button class="btn btn-primary" onclick="showRestaurantDetail(${restaurant.id})">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>
                    </div>
                `;
                
                const overlay = new kakao.maps.CustomOverlay({
                    content: content,
                    position: markerPosition,
                    yAnchor: 1.2
                });
                
                kakao.maps.event.addListener(marker, 'click', function() {
                    overlay.setMap(map);
                    setTimeout(() => overlay.setMap(null), 5000);
                });
                
                markers.push(marker);
            });
        }

        function clearMarkers() {
            markers.forEach(marker => marker.setMap(null));
            markers = [];
        }

        function displayRestaurantList(restaurantList) {
            const grid = document.getElementById('restaurantGrid');
            grid.innerHTML = '';
            
            restaurantList.forEach(restaurant => {
                const card = createRestaurantCard(restaurant);
                grid.appendChild(card);
            });
        }

        function displayCollection() {
            const grid = document.getElementById('collectionGrid');
            const count = document.getElementById('collectionCount');
            grid.innerHTML = '';
            
            const scrappedList = restaurants.filter(r => scrapedRestaurants.includes(r.id));
            count.textContent = `${scrappedList.length}Í∞ú`;
            
            if (scrappedList.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #999; padding: 3rem 1rem; font-size: 0.9rem;">‚ù§Ô∏è ÏïÑÏßÅ Ïä§ÌÅ¨Îû©Ìïú ÎßõÏßëÏù¥ ÏóÜÏñ¥Ïöî<br>ÎßàÏùåÏóê ÎìúÎäî ÎßõÏßëÏùÑ Ïä§ÌÅ¨Îû©Ìï¥Î≥¥ÏÑ∏Ïöî!</p>';
                return;
            }
            
            scrappedList.forEach(restaurant => {
                const card = createRestaurantCard(restaurant);
                grid.appendChild(card);
            });
        }

        function createRestaurantCard(restaurant) {
            const card = document.createElement('div');
            card.className = 'restaurant-card';
            
            const isScrapped = scrapedRestaurants.includes(restaurant.id);
            
            card.innerHTML = `
                <img src="${restaurant.image}" alt="${restaurant.name}" class="restaurant-image">
                <div class="restaurant-info">
                    <div>
                        <div class="restaurant-header">
                            <h3 class="restaurant-name">${restaurant.name}</h3>
                            <div class="restaurant-rating">‚≠ê ${restaurant.rating}</div>
                        </div>
                        <div class="restaurant-meta">
                            <span class="restaurant-category">${restaurant.categoryName}</span>
                            <span>‚Ä¢</span>
                            <span class="restaurant-address">${restaurant.address}</span>
                        </div>
                    </div>
                    <div class="restaurant-actions">
                        <button class="btn btn-primary" onclick="showRestaurantDetail(${restaurant.id})">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>
                        <button class="btn btn-scrap ${isScrapped ? 'active' : ''}" onclick="toggleScrap(${restaurant.id})">
                            ${isScrapped ? '‚ù§Ô∏è' : 'ü§ç'}
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        function showRestaurantDetail(id) {
            const restaurant = restaurants.find(r => r.id === id);
            if (!restaurant) return;
            
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            const isScrapped = scrapedRestaurants.includes(restaurant.id);
            
            modalBody.innerHTML = `
                <div class="modal-header">
                    <img src="${restaurant.image}" alt="${restaurant.name}">
                </div>
                <div class="modal-body">
                    <h2 class="modal-title">${restaurant.name}</h2>
                    <div class="modal-info">
                        <div class="info-item">
                            <span class="info-label">Ïπ¥ÌÖåÍ≥†Î¶¨:</span>
                            <span>${restaurant.categoryName}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ÌèâÏ†ê:</span>
                            <span>‚≠ê ${restaurant.rating}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ï£ºÏÜå:</span>
                            <span>${restaurant.address}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ï†ÑÌôîÎ≤àÌò∏:</span>
                            <span>${restaurant.phone}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ÏòÅÏóÖÏãúÍ∞Ñ:</span>
                            <span>${restaurant.hours}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Í∞ÄÍ≤©ÎåÄ:</span>
                            <span>${restaurant.price}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ÎåÄÌëúÎ©îÎâ¥:</span>
                            <span>${restaurant.menu.join(', ')}</span>
                        </div>
                    </div>
                    <p style="margin-top: 1rem; color: #666; line-height: 1.6;">${restaurant.description}</p>
                    <div class="restaurant-actions" style="margin-top: 1.5rem;">
                        <button class="btn btn-scrap ${isScrapped ? 'active' : ''}" onclick="toggleScrap(${restaurant.id})">
                            ${isScrapped ? 'Ïä§ÌÅ¨Îû© Ï∑®ÏÜå' : 'Ïä§ÌÅ¨Îû©ÌïòÍ∏∞'}
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function toggleScrap(id) {
            const index = scrapedRestaurants.indexOf(id);
            if (index > -1) {
                scrapedRestaurants.splice(index, 1);
            } else {
                scrapedRestaurants.push(id);
            }
            
            localStorage.setItem('scrapedRestaurants', JSON.stringify(scrapedRestaurants));
            
            if (document.querySelector('.tab-btn.active').dataset.tab === 'list') {
                displayRestaurantList(currentRestaurants);
            } else if (document.querySelector('.tab-btn.active').dataset.tab === 'collection') {
                displayCollection();
            }
            
            const modalScrapBtn = document.querySelector('.modal-body .btn-scrap');
            if (modalScrapBtn) {
                const isScrapped = scrapedRestaurants.includes(id);
                modalScrapBtn.className = `btn btn-scrap ${isScrapped ? 'active' : ''}`;
                modalScrapBtn.textContent = isScrapped ? '‚ù§Ô∏è Ïä§ÌÅ¨Îû© Ï∑®ÏÜå' : 'ü§ç Ïä§ÌÅ¨Îû©ÌïòÍ∏∞';
            }
        }

        function searchRestaurants() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const activeCategory = document.querySelector('.filter-pill.active').dataset.category;
            
            currentRestaurants = restaurants.filter(restaurant => {
                const matchesSearch = !searchTerm || 
                    restaurant.name.toLowerCase().includes(searchTerm) ||
                    restaurant.address.toLowerCase().includes(searchTerm) ||
                    restaurant.categoryName.toLowerCase().includes(searchTerm);
                
                const matchesCategory = !activeCategory || restaurant.category === activeCategory;
                
                return matchesSearch && matchesCategory;
            });
            
            const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
            if (activeTab === 'map') {
                displayMarkers(currentRestaurants);
            } else if (activeTab === 'list') {
                displayRestaurantList(currentRestaurants);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initMap();
            displayRestaurantList(currentRestaurants);
            displayCollection();
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    const tabId = this.dataset.tab + 'Tab';
                    document.getElementById(tabId).classList.add('active');
                    
                    if (this.dataset.tab === 'collection') {
                        displayCollection();
                    }
                });
            });
            
            document.getElementById('searchInput').addEventListener('input', searchRestaurants);
            
            document.querySelectorAll('.filter-pill').forEach(pill => {
                pill.addEventListener('click', function() {
                    document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                    searchRestaurants();
                });
            });
            
            const modal = document.getElementById('modal');
            const closeBtn = document.querySelector('.close');
            
            closeBtn.onclick = function() {
                modal.style.display = 'none';
            }
            
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>
